---
title: Initial Setup
description: Set up React Native USMDS in your project
---

## Prerequisites

Before you start, make sure you have:

- A React Native project (Expo or bare React Native)
- Node.js 22 or higher
- npm, yarn, or pnpm

## Installation

### Using the CLI (Recommended)

The fastest way to get started is using the USMDS CLI:

```bash
npx @blen/usmds init
```

This command will:
- Set up NativeWind (Tailwind CSS for React Native)
- Create necessary configuration files (`tailwind.config.js`, `metro.config.js`, `babel.config.js`, `global.css`)
- Install required dependencies
- Set up the USMDS theme
- Create `lib/utils.ts` with the `cn` helper function
- Create `components.json` for component configuration

#### Post-Installation Steps

After running `npx @blen/usmds init`, you need to complete these manual steps:

**1. Import global.css in your app entry point**

For Expo Router projects:

```tsx title="app/_layout.tsx"
import '../global.css'; // Add this at the top

export default function RootLayout() {
  return (
    <Stack>
      {/* Your routes */}
    </Stack>
  );
}
```

For bare React Native projects:

```tsx title="App.tsx"
import './global.css'; // Add this at the top

export default function App() {
  return (
    <NavigationContainer>
      {/* Your app */}
    </NavigationContainer>
  );
}
```

**2. Add PortalHost (Required for Dialog, Popover, Tooltip, etc.)**

Add the `PortalHost` as the last child in your root layout:

```tsx title="app/_layout.tsx"
import '../global.css';
import { PortalHost } from '@rn-primitives/portal';

export default function RootLayout() {
  return (
    <>
      <Stack>
        {/* Your routes */}
      </Stack>
      <PortalHost />
    </>
  );
}
```

Without `PortalHost`, components like Dialog, Dropdown Menu, Popover, and Tooltip will not render properly.

**That's it!** You can now add components:

```bash
npx @blen/usmds add button
```

Or add multiple components at once:

```bash
npx @blen/usmds add button alert badge
```

### Manual Installation

If you prefer to set up manually or need to customize the installation, follow these steps:

#### 1. Install NativeWind

Follow the official [NativeWind installation guide](https://www.nativewind.dev/docs/getting-started/installation) to add NativeWind to your project.

#### 2. Configure Metro

Update your `metro.config.js` to set the inline rem value:

```js title="metro.config.js"
const { getDefaultConfig } = require('expo/metro-config');
const { withNativeWind } = require('nativewind/metro');

const config = getDefaultConfig(__dirname);

module.exports = withNativeWind(config, {
  input: './global.css',
  inlineRem: 16
});
```

#### 3. Configure Babel

Update your `babel.config.js`:

```js title="babel.config.js"
module.exports = function (api) {
  api.cache(true);
  return {
    presets: [
      ['babel-preset-expo', { jsxImportSource: 'nativewind' }],
      'nativewind/babel'
    ]
  };
};
```

#### 4. Install Dependencies

Install the required dependencies:

```bash
npx expo install tailwindcss-animate class-variance-authority clsx tailwind-merge @rn-primitives/portal
```

For non-Expo projects:

```bash
npm install tailwindcss-animate class-variance-authority clsx tailwind-merge @rn-primitives/portal
```

#### 5. Add Portal Host

Render the `PortalHost` from `@rn-primitives/portal` in your root layout as the last child of your providers. This is required for components like `DropdownMenu`, `Tooltip`, and `Popover`.

```tsx title="app/_layout.tsx"
import { PortalHost } from '@rn-primitives/portal';

export default function RootLayout() {
  return (
    <ThemeProvider>
      <Stack />
      <PortalHost />
    </ThemeProvider>
  );
}
```

#### 6. Configure Path Aliases

Add path aliases to your `tsconfig.json`:

```json title="tsconfig.json"
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./*"]
    }
  }
}
```

Note: `@` is a commonly used alias, but you can choose a different one.

#### 7. Set Up Styles

Create or update your `global.css` file with USMDS theme variables:

```css title="global.css"
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Base */
    --background: 0 0% 100%;
    --foreground: 0 0% 11%;

    /* Primary */
    --primary: 209 100% 32%;
    --primary-foreground: 0 0% 100%;

    /* Secondary */
    --secondary: 3 61% 52%;
    --secondary-foreground: 0 0% 100%;

    /* Destructive */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Muted */
    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 45%;

    /* Accent */
    --accent: 190 100% 44%;
    --accent-foreground: 0 0% 100%;

    /* Card */
    --card: 0 0% 100%;
    --card-foreground: 0 0% 11%;

    /* Popover */
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 11%;

    /* Border & Input */
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 211 100% 57%;

    /* Radius */
    --radius: 0.5rem;
  }

  .dark {
    --background: 220 20% 10%;
    --foreground: 0 0% 90%;

    --primary: 0 0% 100%;
    --primary-foreground: 0 0% 9%;

    --secondary: 3 71% 62%;
    --secondary-foreground: 0 0% 100%;

    --destructive: 0 70.9% 59.4%;
    --destructive-foreground: 0 0% 100%;

    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;

    --accent: 190 100% 54%;
    --accent-foreground: 0 0% 9%;

    --card: 0 0% 14.9%;
    --card-foreground: 0 0% 98%;

    --popover: 0 0% 14.9%;
    --popover-foreground: 0 0% 98%;

    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 211 100% 67%;
  }
}
```

#### 8. Configure Tailwind

Update your `tailwind.config.js`:

```js title="tailwind.config.js"
const { hairlineWidth } = require('nativewind/theme');

/** @type {import('tailwindcss').Config} */
module.exports = {
  darkMode: 'class',
  content: [
    './app/**/*.{ts,tsx}',
    './components/**/*.{ts,tsx}'
  ],
  presets: [require('nativewind/preset')],
  theme: {
    extend: {
      colors: {
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        destructive: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        popover: {
          DEFAULT: 'hsl(var(--popover))',
          foreground: 'hsl(var(--popover-foreground))',
        },
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
      },
      borderRadius: {
        lg: 'var(--radius)',
        md: 'calc(var(--radius) - 2px)',
        sm: 'calc(var(--radius) - 4px)',
      },
      borderWidth: {
        hairline: hairlineWidth(),
      },
    },
  },
  plugins: [require('tailwindcss-animate')],
};
```

#### 9. Add Utility Helper

Create a `lib/utils.ts` file:

```ts title="lib/utils.ts"
import { clsx, type ClassValue } from 'clsx';
import { twMerge } from 'tailwind-merge';

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
```

#### 10. Create TypeScript Definitions

Create `nativewind-env.d.ts` in your project root:

```ts title="nativewind-env.d.ts"
/// <reference types="nativewind/types" />
```

#### 11. Import Global Styles

In your app entry point (e.g., `App.tsx` or `app/_layout.tsx`), import the global CSS:

```tsx
import './global.css';

// Rest of your app...
```

## Adding Components

Once setup is complete, you can start adding components to your project.

### Using the CLI

Add individual components:

```bash
npx @blen/usmds add button
```

Add multiple components:

```bash
npx @blen/usmds add alert badge button card
```

Add all components:

```bash
npx @blen/usmds add --all
```

### Component Structure

Components will be added to `components/ui/` directory (or your configured path alias). Import them like this:

```tsx
import { Button } from '@/components/ui/button';
import { Alert, AlertTitle, AlertDescription } from '@/components/ui/alert';
import { Badge } from '@/components/ui/badge';
import { Text } from '@/components/ui/text';
import { InfoIcon } from 'lucide-react-native';

export default function Screen() {
  return (
    <>
      <Button>
        <Text>Click me</Text>
      </Button>

      <Alert icon={InfoIcon}>
        <AlertTitle>Notification</AlertTitle>
        <AlertDescription>This is an alert message</AlertDescription>
      </Alert>

      <Badge variant="default">
        <Text>New</Text>
      </Badge>
    </>
  );
}
```

## Customization

### Theme Customization

You can customize the USMDS theme by modifying the CSS variables in `global.css`. The design system is based on the U.S. Web Design System (USWDS) and provides a comprehensive set of colors and tokens.

For a complete reference of available colors and theme tokens, see the [Customization](/docs/customization) page.

### Component Customization

USMDS components use `class-variance-authority` for variant management. You can extend or modify variants by editing the component files directly.

Example - extending Button variants:

```tsx title="components/ui/button.tsx"
const buttonVariants = cva(
  // base styles...
  {
    variants: {
      variant: {
        default: '...',
        destructive: '...',
        outline: '...',
        // Add your custom variant:
        custom: 'bg-purple-500 text-white',
      },
    },
  }
);
```

## Troubleshooting

### CLI Not Found

If you get a "command not found" error, try:

```bash
npx @blen/usmds@latest init
```

### Import Errors

Make sure your path aliases are configured correctly in `tsconfig.json` and match the imports in your components.

### Styles Not Applying

1. Ensure `global.css` is imported in your app entry point
2. Check that NativeWind is properly configured in `metro.config.js`
3. Restart your development server after configuration changes

### Portal Components Not Working

Make sure `PortalHost` is rendered in your root layout as the last child of your providers.

## Next Steps

- Explore available [Components](/docs/components)
- Learn about [Common Patterns](/docs/getting-started/common-patterns)
- Customize the [Theme](/docs/customization)
- Check out [Examples](/docs/examples)
